(this.webpackJsonpeachbase_task=this.webpackJsonpeachbase_task||[]).push([[0],{60:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(10),r=n.n(s),o=n(13),i=n(7),u=n(3),l={getTodoStatus:!1,postTodoStatus:!1,deleteTodoStatus:!1,patchTodoStatus:!1,deleteTime:"",postTodo:{},message:"",messageDate:"",todo:[]};var d=Object(i.c)({todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TODO_SUCCSESS":return Object(u.a)(Object(u.a)({},e),{},{getTodoStatus:!0,todo:t.payload});case"GET_TODO_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{getTodoStatus:!1,message:t.payload,messageDate:new Date});case"POST_TODO_SUCCSESS":return Object(u.a)(Object(u.a)({},e),{},{postTodoStatus:!0,postTodo:t.payload,message:"Created!",messageDate:new Date});case"POST_TODO_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{postTodoStatus:!1,message:t.payload,messageDate:new Date});case"PATCH_TODO_SUCCSESS":return Object(u.a)(Object(u.a)({},e),{},{patchTodoStatus:!0,postTodo:t.payload,message:"Updated!",messageDate:new Date});case"PATCH_TODO_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{patchTodoStatus:!1,message:t.payload,messageDate:new Date});case"DELETE_TODO_SUCCSESS":return Object(u.a)(Object(u.a)({},e),{},{deleteTodoStatus:!0,deleteTime:t.payload,message:"Deleted!",messageDate:new Date});case"DELETE_TODO_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{deleteTodoStatus:!1,message:t.payload,messageDate:new Date});default:return e}}}),p=[n(27).a],O=Object(i.e)(d,Object(i.d)(i.a.apply(void 0,p))),f=n(2),j=n.n(f),b=n(4),m=n(5),h=n(28),x=n(12),g=n.n(x),v=n(29),T=g.a.create({baseURL:"https://todo.eachbase.com/api/VahanMuradyan/",responseType:"json"}),_=Object(v.a)(T),S={getOrPostTodos:new _("todos"),patchOrDeleteTodos:function(e){return new _("todos/"+e)}},y=function(e){return{type:"POST_TODO_SUCCSESS",payload:e}},D=function(e){return{type:"PATCH_TODO_SUCCSESS",payload:e}},E=function(e){return{type:"PATCH_TODO_FAILURE",payload:e}},N=function(e){return{type:"DELETE_TODO_FAILURE",payload:e}},w=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.getOrPostTodos.post(e);case 3:a=t.sent,n(y(a.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response&&n({type:"POST_TODO_FAILURE",payload:t.t0.response.data.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(a){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.patchOrDeleteTodos(t).patch(e);case 3:c=n.sent,JSON.stringify(c.data)!==JSON.stringify(e)?a(D(Object(u.a)(Object(u.a)({},c.data),{},{date:new Date}))):a(E("Todo is missing attributes")),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),n.t0&&a(E(n.t0.response.data.message));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.patchOrDeleteTodos(e).delete();case 3:(a=t.sent).data.deletedCount?n({type:"DELETE_TODO_SUCCSESS",payload:a.data.operationTime}):a.data.message?n(N(a.data.message)):a.data.deletedCount||n(N("Todo not found")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0&&n(N(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},U=(n(60),n.p+"static/media/arrow_up.edb0586f.png"),A=n(1),L=function(e){var t=e.setOpenModal,n=e.onDeleteAll;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"bar",children:[Object(A.jsx)("p",{className:"card_title",children:"By Vahan Muradyan"}),Object(A.jsxs)("div",{children:[Object(A.jsx)("button",{className:"card_button",onClick:function(){t((function(e){return!e}))},children:"Create"}),Object(A.jsx)("button",{className:"card_button",onClick:n,children:"Delete All"})]}),Object(A.jsx)("div",{className:"in_bar",children:Object(A.jsx)("img",{src:U,alt:"[Click Here]",className:"loading_img small"})})]}),Object(A.jsx)("div",{className:"hide",children:Object(A.jsx)("img",{src:U,alt:"[Click Here]",className:"loading_img small"})})]})},I=n(30),M=function(e){var t=e.title,n=e.description,c=e.color,s=e.onUpdate,r=e.onDelete,o=Object(a.useState)(!1),i=Object(m.a)(o,2),u=i[0],l=i[1];return Object(a.useEffect)((function(){setTimeout((function(){l(!0)}),100)}),[]),Object(A.jsxs)("div",{className:u?"todo_card animated":"todo_card",style:{borderBottom:"0.4rem solid ".concat(null!==c&&void 0!==c?c:"#E5E5E5")},children:[Object(A.jsx)("h3",{className:"card_title",children:null!==t&&void 0!==t?t:"No title!"}),Object(A.jsx)("p",{className:"card_description",children:null!==n&&void 0!==n?n:"No description!"}),Object(A.jsxs)("div",{className:"buttonSection",children:[Object(A.jsx)("div",{className:"color_picker",style:{borderBottom:"0.3rem solid ".concat(null!==c&&void 0!==c?c:"#E5E5E5")},children:c}),Object(A.jsx)("button",{className:"card_button",onClick:s,children:"Update"}),Object(A.jsx)("button",{className:"card_button",onClick:r,children:"Delete"})]})]})},P=function(e){var t=e.todos,n=e.deleteTodo,a=e.setElement,c=e.loading,s=Object(I.a)(t);return Object(A.jsx)("div",{className:"todo_list",children:s.length?s.reverse().map((function(e){return Object(A.jsx)(M,{title:e.title,description:e.description,color:e.color,onUpdate:function(){!c&&a(e)},onDelete:Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!c,!t.t0){t.next=4;break}return t.next=4,n(e._id);case 4:case"end":return t.stop()}}),t)})))},e._id)})):Object(A.jsx)("span",{className:"todo_list large",children:"No Todos, Please create new one!"})})},F=n.p+"static/media/loading.42aaa181.gif",R=function(){return Object(A.jsx)("div",{className:"loading",children:Object(A.jsx)("img",{src:F,alt:"Loading...",className:"loading_img"})})},H=n(8),J=function(e){var t=e.name,n=e.updateMode,c=e.element,s=e.isOpen,r=e.setOpen,o=e.onCreate,i=e.onUpdate,l=e.status,d=e.messageDate,p=e.setElement,O=Object(a.useState)({title:"",description:"",color:"#ffffff"}),f=Object(m.a)(O,2),h=f[0],x=f[1],g=Object(a.useState)({title:null,description:null,color:"#ffffff"}),v=Object(m.a)(g,2),T=v[0],_=v[1],S=Object(a.useState)(!1),y=Object(m.a)(S,2),D=y[0],E=y[1],N=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E((function(e){return!e})),e.next=3,o(T);case 3:E((function(e){return!e}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E((function(e){return!e})),e.next=3,i(T,c._id);case 3:p({}),E((function(e){return!e}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l&&(r(!1),x({title:"",description:"",color:"#ffffff"}),_({title:null,description:null,color:"#ffffff"}))}),[l,d]),Object(a.useEffect)((function(){n&&(x({title:c.title,description:c.description,color:c.color}),_({title:c.title,description:c.description,color:c.color}))}),[n]);var C=function(e){x((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(H.a)({},e.target.name,"".concat(e.target.value)))})),_((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(H.a)({},e.target.name,""!==e.target.value?e.target.value:null))}))};return Object(A.jsx)("div",{className:s?"modal active":"modal",children:Object(A.jsxs)("div",{className:"input_section",children:[Object(A.jsx)("span",{className:"card_title input_element",children:t}),D&&Object(A.jsx)("div",{className:"input_element loading_small",children:Object(A.jsx)("img",{src:F,alt:"Loading...",className:"loading_img small"})}),Object(A.jsx)("input",{name:"title",className:"input_element",placeholder:"Title",onChange:C,value:h.title}),Object(A.jsx)("textarea",{name:"description",className:"input_element large",placeholder:"Description",onChange:C,value:h.description}),Object(A.jsx)("input",{name:"color",type:"color",className:"input_element",onChange:C,value:h.color}),Object(A.jsxs)("div",{className:"input_element buttons",children:[n?Object(A.jsx)("button",{className:"card_button",onClick:D?function(){}:function(){return w()},children:"Update"}):Object(A.jsx)("button",{className:"card_button",onClick:D?function(){}:function(){return N()},children:"Create"}),Object(A.jsx)("button",{className:"card_button",onClick:function(){r((function(e){return!e})),x({title:"",description:"",color:"#ffffff"}),_({title:null,description:null,color:"#ffffff"}),p({})},children:"Cancel"})]})]})})},G=function(e){var t=e.isOpen,n=e.setIsOpenMessage,c=e.onMessage;return Object(a.useEffect)((function(){setTimeout((function(){n(!1)}),1500)}),[t]),Object(A.jsx)("span",{className:t?"message active":"message",children:c})},B=function(e){var t=e.text,n=e.isOpen,a=e.setIsOpen,c=e.onAccept,s=e.loading,r=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsx)("div",{className:n?"modal active":"modal",children:Object(A.jsxs)("div",{className:"input_section",children:[Object(A.jsx)("span",{className:"card_title input_element red",children:t}),s&&Object(A.jsx)("div",{className:"input_element loading_small",children:Object(A.jsx)("img",{src:F,alt:"Loading...",className:"loading_img small"})}),Object(A.jsxs)("div",{className:"input_element",children:[Object(A.jsx)("button",{className:"card_button",onClick:r,children:"Accept"}),Object(A.jsx)("button",{className:"card_button",onClick:function(){a(!1)},children:"Cancel"})]})]})})};var V=Object(o.b)((function(e){return e.todo}),(function(e){return{getTodos:function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.getOrPostTodos.get();case 3:n=e.sent,t({type:"GET_TODO_SUCCSESS",payload:n.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("FROM GET_THUNK",e.t0),e.t0.response&&t({type:"GET_TODO_FAILURE",payload:e.t0.response});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),postTodos:function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(w(n));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),patchTodo:function(){var t=Object(b.a)(j.a.mark((function t(n,a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(C(n,a));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),deleteTodo:function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(k(n));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))((function(e){var t=Object(a.useState)([]),n=Object(m.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(!0),o=Object(m.a)(r,2),i=o[0],u=o[1],l=Object(a.useState)(!1),d=Object(m.a)(l,2),p=d[0],O=d[1],f=Object(a.useState)(!1),x=Object(m.a)(f,2),g=x[0],v=x[1],T=Object(a.useState)(!1),_=Object(m.a)(T,2),S=_[0],y=_[1],D=Object(a.useState)({}),E=Object(m.a)(D,2),N=E[0],w=E[1],C=Object(a.useState)(!1),k=Object(m.a)(C,2),U=k[0],I=k[1],M=Object(a.useState)("Create New Todo"),F=Object(m.a)(M,2),H=F[0],V=F[1],K=Object(a.useState)("Are you sure you want to delete all Todos?"),q=Object(m.a)(K,2),z=q[0],Q=q[1],W=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTodos();case 2:u(!1);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){JSON.stringify(N)!==JSON.stringify({})?(I(!0),O(!0),V("Update Todo")):(I(!1),O(!1),V("Create New Todo"))}),[N]),Object(a.useEffect)((function(){u(!0),s((function(e){return e.filter((function(e){return e._id!==N._id}))})),W()}),[e.postTodo._id,e.postTodo.date,e.deleteTime]),Object(a.useEffect)((function(){e.getTodoStatus&&e.todo.length!==c.length&&s(e.todo)}),[e.todo]),Object(a.useEffect)((function(){e.messageDate&&v(!0)}),[e.messageDate]);var X=function(){var t=Object(b.a)(j.a.mark((function t(){var n,a,s,r,o,i,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u(!0),n=!0,a=!1,t.prev=3,r=Object(h.a)(c);case 5:return t.next=7,r.next();case 7:return o=t.sent,n=o.done,t.next=11,o.value;case 11:if(i=t.sent,n){t.next=18;break}l=i,e.deleteTodo(l._id);case 15:n=!0,t.next=5;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(3),a=!0,s=t.t0;case 24:if(t.prev=24,t.prev=25,n||null==r.return){t.next=29;break}return t.next=29,r.return();case 29:if(t.prev=29,!a){t.next=32;break}throw s;case 32:return t.finish(29);case 33:return t.finish(24);case 34:c.length||Q("No Todos!"),u(!1);case 36:case"end":return t.stop()}}),t,null,[[3,20,24,34],[25,,29,33]])})));return function(){return t.apply(this,arguments)}}();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(L,{setOpenModal:O,onDeleteAll:function(){y(!0),Q("Are you sure you want to delete all Todos?")}}),Object(A.jsx)(B,{text:z,isOpen:S,setIsOpen:y,onAccept:X,loading:i}),i&&Object(A.jsx)(R,{}),Object(A.jsx)(P,{todos:c,deleteTodo:e.deleteTodo,setElement:w,loading:i}),Object(A.jsx)(J,{name:H,updateMode:U,element:N,isOpen:p,setOpen:O,onCreate:e.postTodos,onUpdate:e.patchTodo,status:e.postTodoStatus,messageDate:e.messageDate,postTodoId:e.postTodo._id,setElement:w,setUpdateMode:I}),Object(A.jsx)(G,{isOpen:g,setIsOpenMessage:v,onMessage:e.message,messageDate:e.messageDate})]})}));r.a.render(Object(A.jsx)(o.a,{store:O,children:Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(V,{})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.0da9519e.chunk.js.map